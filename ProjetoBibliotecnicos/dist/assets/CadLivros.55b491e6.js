import{a as p}from"./index.becf6c0c.js";import{A as y}from"./autores.c8023e1b.js";import{C as _}from"./categorias.421b8055.js";import{E}from"./editoras.a9f29365.js";import{_ as L,o as n,c as l,a as t,w as d,v,b as m,d as g,F as b,r as h,p as I,e as C,f as k,t as i}from"./index.47cdb538.js";class T{async BuscarTodosOsLivros(){return(await p.get("https://projeto-bibliotecnicos.herokuapp.com/books")).data}async BuscarLivro(e){return(await p.get(`https://projeto-bibliotecnicos.herokuapp.com/books${e}`)).data}async AdicionarLivro(e){return(await p.post("https://projeto-bibliotecnicos.herokuapp.com/books",e)).data}async ExcluirLivro(e){return(await p.delete(`https://projeto-bibliotecnicos.herokuapp.com/books/${e}`)).data}async AtualizarLivro(e){return(await p.put(`https://projeto-bibliotecnicos.herokuapp.com/books/${e.id}`,e)).data}}const u=new T,w=new y,f=new _,B=new E,F={data(){return{livro:{},livros:[],categoria:{},categorias:[],editora:{},editoras:[],autor:{},autores:[]}},async created(){this.livros=await u.BuscarTodosOsLivros(),this.autores=await w.BuscarTodosOsAutores(),this.categorias=await f.BuscarTodasAsCategorias(),this.editoras=await B.BuscarTodasAsEditoras()},methods:{emprestar(){alert("Gostaria de fazer com esse bot\xE3o diminu\xEDsse a contagem de livros no estoque em 1, e que ele mudasse pra um bot\xE3o de devolu\xE7\xE3o, que aumentaria o numero do estoque em 1")},async salvar(){this.livro.id?await u.AtualizarLivro(this.livro):await u.AdicionarLivro(this.livro),this.livros=await u.BuscarTodosOsLivros(),this.categorias=await f.BuscarTodasAsCategorias(),this.editoras=await B.BuscarTodasAsEditoras(),this.autores=await w.BuscarTodosOsAutores(),this.livro={}},async excluir(s){await u.ExcluirLivro(s.id),this.livros=await u.BuscarTodosOsLivros()},editar(s){Object.assign(this.livro,s)}}},A=s=>(I("data-v-4fea6184"),s=s(),C(),s),q={class:"container"},S=A(()=>t("div",{class:"title"},[t("h2",null,"Gerenciamento de livros")],-1)),V={class:"FormBox"},O=k(" Editora: "),j=["value"],U=k(" Autor: "),K=A(()=>t("option",{disabled:"",value:""},"Autor",-1)),N=["value"],z={class:"list-items"},D=["onClick"],G=["onClick"];function M(s,e,c,P,r,a){return n(),l("div",q,[S,t("div",V,[d(t("input",{class:"FormInput",placeholder:"Nome",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>r.livro.nome=o),onKeyup:e[1]||(e[1]=m((...o)=>a.salvar&&a.salvar(...o),["enter"]))},null,544),[[v,r.livro.nome]]),d(t("input",{class:"FormInput",placeholder:"Ano de lan\xE7amento",type:"number","onUpdate:modelValue":e[2]||(e[2]=o=>r.livro.data=o),onKeyup:e[3]||(e[3]=m((...o)=>a.salvar&&a.salvar(...o),["enter"]))},null,544),[[v,r.livro.data]]),d(t("input",{class:"FormInput",placeholder:"Pre\xE7o (R$)",type:"number","onUpdate:modelValue":e[4]||(e[4]=o=>r.livro.preco=o),onKeyup:e[5]||(e[5]=m((...o)=>a.salvar&&a.salvar(...o),["enter"]))},null,544),[[v,r.livro.preco]]),d(t("input",{class:"FormInput",placeholder:"Quantidade no Estoque",type:"number","onUpdate:modelValue":e[6]||(e[6]=o=>r.livro.qtd=o),onKeyup:e[7]||(e[7]=m((...o)=>a.salvar&&a.salvar(...o),["enter"]))},null,544),[[v,r.livro.qtd]]),O,d(t("select",{class:"FormInput","onUpdate:modelValue":e[8]||(e[8]=o=>r.livro.editora=o)},[(n(!0),l(b,null,h(r.editoras,o=>(n(),l("option",{key:o.id,value:o.nome},i(o.nome),9,j))),128))],512),[[g,r.livro.editora]]),U,d(t("select",{class:"FormInput","onUpdate:modelValue":e[9]||(e[9]=o=>r.livro.autor=o)},[K,(n(!0),l(b,null,h(r.autores,o=>(n(),l("option",{key:o.id,value:o.nome},i(o.nome),9,N))),128))],512),[[g,r.livro.autor]]),t("button",{onClick:e[10]||(e[10]=(...o)=>a.salvar&&a.salvar(...o)),class:"BtnSalvar"},"Adicionar")]),t("div",z,[(n(!0),l(b,null,h(r.livros,o=>(n(),l("div",{class:"BoxInfo",key:o.id},[t("div",null,"ID: "+i(o.id),1),t("div",null,"Nome: "+i(o.nome),1),t("div",null,"Pre\xE7o: "+i(o.preco),1),t("div",null,"Ano de Lan\xE7amento: "+i(o.data),1),t("div",null,"Quantidade no Estoque: "+i(o.qtd),1),t("div",null,"Editora: "+i(o.editora),1),t("div",null,"Autor: "+i(o.autor),1),t("button",{class:"BtnEdit",onClick:x=>a.editar(o)},"Editar",8,D),t("button",{class:"BtnEdit",onClick:x=>a.excluir(o)},"Excluir",8,G),t("button",{class:"BtnBorrow",onClick:e[11]||(e[11]=x=>a.emprestar())},"Emprestar")]))),128))])])}var X=L(F,[["render",M],["__scopeId","data-v-4fea6184"]]);export{X as default};
